FROM ubuntu

MAINTAINER sunder.narayanaswamy@gmail.com

RUN apt-get update && apt-get install -y \
            git curl wget zip unzip build-essential software-properties-common ca-certificates \
            gpg-agent gnupg2 python-pip

RUN  bash -c "curl -sL https://deb.nodesource.com/setup_10.x | bash -"
RUN  bash -c "wget https://packages.erlang-solutions.com/erlang-solutions_1.0_all.deb && dpkg -i erlang-solutions_1.0_all.deb"
RUN  bash -c "pip install awscli"

ENV TZ=Asia/Colombo

RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

RUN apt-get update && apt-get install -y --no-install-recommends erlang elixir nodejs

RUN apt-get -y upgrade && apt-get -y autoclean && apt-get -y clean && apt-get -y autoremove 

ENV LANG C.UTF-8 
ENV LC_ALL C.UTF-8

RUN mix local.hex --force &&  mix local.rebar --force

WORKDIR /opt/app

CMD ["/bin/bash"]
